# Конфигурация Disco Coop Bot для Steam Deck
# 
# ⚠️ ВАЖНО: Локальные LLM модели на Steam Deck работают очень медленно (30-60 сек на запрос).
# Для комфортной игры настоятельно рекомендуется использовать внешние API.
#
telegram:
  bot_token: "YOUR_BOT_TOKEN_HERE"  # Получите от @BotFather в Telegram
  allowed_chats:  # Белый список чатов (chat_id)
    - -1001234567890  # Пример ID группового чата
    - -1009876543210  # Добавьте свои chat_id сюда
  admin_users:  # ID администраторов (для экстренной остановки)
    - 123456789
    - 987654321

llm:
  provider: "ollama"  # ollama, openai, deepseek, anthropic
  model: "llama3.1:8b"  # Модель для обработки команд
  vision_model: "llava:7b"  # Модель для анализа изображений
  base_url: "http://localhost:11434"  # URL сервера
  api_key: ""  # API ключ для внешних провайдеров (не нужен для ollama)
  max_tokens: 2048
  temperature: 0.7
  
  # Примеры конфигураций для разных провайдеров:
  
  # OpenAI:
  # provider: "openai"
  # model: "gpt-4o-mini"
  # vision_model: "gpt-4o"
  # base_url: "https://api.openai.com"
  # api_key: "sk-your-openai-key-here"
  
  # DeepSeek (быстро и дешево):
  # provider: "deepseek"
  # model: "deepseek-chat"
  # vision_model: "gpt-4o"  # DeepSeek пока без vision, используем OpenAI
  # base_url: "https://api.deepseek.com"
  # api_key: "sk-your-deepseek-key-here"
  system_prompt: |
    Ты точный помощник для игры в Disco Elysium. Твоя задача - интерпретировать команды игроков 
    на русском языке и преобразовывать их в конкретные игровые действия с МАКСИМАЛЬНО ТОЧНЫМИ координатами.
    
    КРИТИЧЕСКИ ВАЖНО ДЛЯ КООРДИНАТ:
    - Анализируй изображение очень внимательно
    - Ищи точный центр кнопок, текста, элементов интерфейса
    - НЕ используй примерные координаты - определяй их по пикселям
    - Размер экрана соответствует размеру предоставленного скриншота
    - Кнопки обычно имеют видимые границы - цель в их геометрический центр
    
    Типичные элементы Disco Elysium:
    - Кнопки меню (Новая игра, Загрузить, Настройки) - обычно по центру экрана
    - Диалоговые варианты - слева, список вертикально
    - Кнопки интерфейса - по краям экрана
    - Предметы инвентаря - сетка в окне инвентаря
    
    Доступные действия:
    - move_mouse(x, y) - переместить курсор
    - click(x, y) - кликнуть в точку (ИСПОЛЬЗУЙ ТОЧНЫЕ КООРДИНАТЫ!)
    - key_press(key) - нажать клавишу
    - type_text(text) - ввести текст
    - scroll(direction, amount) - прокрутить
    
    Отвечай только JSON с действиями. Пример:
    {"actions": [{"type": "click", "x": 960, "y": 540}], "description": "Кликнул на дверь"}

game:
  window_title: "Disco Elysium"
  screenshot_interval: 2.0
  action_delay: 1.0
  
  # Настройки для работы с множественными дисплеями (Steam Deck + внешний монитор)
  multi_display:
    auto_detect_game_screen: true        # Автоматически определять дисплей с игрой
    prefer_external_display: true       # Предпочитать внешний монитор при наличии
    coordinate_offset:                   # Ручное смещение координат (если нужно)
      x: 0
      y: 0
    llm_coordinate_correction:           # Коррекция неточности LLM (настройте по тестам)
      x: -25                             # LLM часто целится правее центра кнопок
      y: -35                             # LLM часто целится ниже центра кнопок
    display_scaling: 1.0                 # Масштабирование координат (обычно 1.0)

vision:
  describe_prompt: |
    Опиши что происходит на этом скриншоте из игры Disco Elysium. 
    Укажи:
    - Где находится персонаж
    - Что видно на экране
    - Есть ли диалоги или интерфейс
    - Какие действия возможны
    
    Отвечай кратко на русском языке.

logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/disco_coop.log"
  max_size: "10MB"
  backup_count: 5

security:
  rate_limit: 10  # Команд в минуту на чат
  emergency_stop_command: "/stop_game"
  max_session_time: 180  # Максимальное время сессии (минуты)